{"ast":null,"code":"import { useRef, useEffect, useState } from 'react';\nexport function useEventListener(eventName, handler) {\n  var element = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : IS_CLIENT ? window : null;\n  var savedHandler = useRef(handler);\n  useEffect(function () {\n    savedHandler.current = handler;\n  }, [handler]);\n  useEffect(function () {\n    if (!element || !element.addEventListener) return;\n\n    var eventListener = function eventListener(event) {\n      return savedHandler.current(event);\n    };\n\n    element.addEventListener(eventName, eventListener);\n    return function () {\n      element.removeEventListener(eventName, eventListener);\n    };\n  }, [eventName, element]);\n}\nexport var useIsVisible = function useIsVisible() {\n  var initStatus = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n\n  var _useState = useState(initStatus),\n      visible = _useState[0],\n      setVisible = _useState[1];\n\n  var toggle = function toggle() {\n    var status = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : true;\n    setVisible(status);\n  };\n\n  return {\n    isShow: visible,\n    showContent: function showContent() {\n      return toggle();\n    },\n    hideContent: function hideContent() {\n      return toggle(false);\n    },\n    toggleContent: function toggleContent() {\n      return toggle(!visible);\n    }\n  };\n};\nexport function usePrevious(value) {\n  var ref = useRef(null);\n  useEffect(function () {\n    ref.current = value;\n  });\n  return ref.current;\n} //ref: https://stackoverflow.com/a/60458593\n\nexport var useProgressiveImage = function useProgressiveImage() {\n  var src = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n\n  var _useState2 = useState(''),\n      sourceLoaded = _useState2[0],\n      setSourceLoaded = _useState2[1];\n\n  useEffect(function () {\n    if (!src) return;\n    var img = new Image();\n    img.src = src;\n\n    img.onload = function () {\n      return setSourceLoaded(src);\n    };\n\n    img.onerror = function () {};\n  }, [src]);\n  return sourceLoaded;\n};","map":{"version":3,"sources":["C:/Users/19215/Desktop/my_website/src/components/hooks/index.ts"],"names":["useRef","useEffect","useState","useEventListener","eventName","handler","element","IS_CLIENT","window","savedHandler","current","addEventListener","eventListener","event","removeEventListener","useIsVisible","initStatus","visible","setVisible","toggle","status","isShow","showContent","hideContent","toggleContent","usePrevious","value","ref","useProgressiveImage","src","sourceLoaded","setSourceLoaded","img","Image","onload","onerror"],"mappings":"AAAA,SAASA,MAAT,EAAiBC,SAAjB,EAA4BC,QAA5B,QAA4C,OAA5C;AAEA,OAAO,SAASC,gBAAT,CACLC,SADK,EAELC,OAFK,EAIC;AAAA,MADNC,OACM,uEAD6BC,SAAS,GAAGC,MAAH,GAAY,IAClD;AACN,MAAMC,YAAY,GAAGT,MAAM,CAACK,OAAD,CAA3B;AACAJ,EAAAA,SAAS,CAAC,YAAM;AACdQ,IAAAA,YAAY,CAACC,OAAb,GAAuBL,OAAvB;AACD,GAFQ,EAEN,CAACA,OAAD,CAFM,CAAT;AAIAJ,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAACK,OAAD,IAAY,CAACA,OAAO,CAACK,gBAAzB,EAA2C;;AAC3C,QAAMC,aAAa,GAAG,SAAhBA,aAAgB,CAACC,KAAD;AAAA,aAAWJ,YAAY,CAACC,OAAb,CAAqBG,KAArB,CAAX;AAAA,KAAtB;;AACAP,IAAAA,OAAO,CAACK,gBAAR,CAAyBP,SAAzB,EAAoCQ,aAApC;AACA,WAAO,YAAM;AACXN,MAAAA,OAAO,CAACQ,mBAAR,CAA4BV,SAA5B,EAAuCQ,aAAvC;AACD,KAFD;AAGD,GAPQ,EAON,CAACR,SAAD,EAAYE,OAAZ,CAPM,CAAT;AAQD;AASD,OAAO,IAAMS,YAAY,GAAG,SAAfA,YAAe,GAEF;AAAA,MADxBC,UACwB,uEADF,KACE;;AAAA,kBACMd,QAAQ,CAACc,UAAD,CADd;AAAA,MACjBC,OADiB;AAAA,MACRC,UADQ;;AAExB,MAAMC,MAAM,GAAG,SAATA,MAAS,GAA4B;AAAA,QAA3BC,MAA2B,uEAAT,IAAS;AACzCF,IAAAA,UAAU,CAACE,MAAD,CAAV;AACD,GAFD;;AAGA,SAAO;AACLC,IAAAA,MAAM,EAAEJ,OADH;AAELK,IAAAA,WAAW,EAAE;AAAA,aAAMH,MAAM,EAAZ;AAAA,KAFR;AAGLI,IAAAA,WAAW,EAAE;AAAA,aAAMJ,MAAM,CAAC,KAAD,CAAZ;AAAA,KAHR;AAILK,IAAAA,aAAa,EAAE;AAAA,aAAML,MAAM,CAAC,CAACF,OAAF,CAAZ;AAAA;AAJV,GAAP;AAMD,CAbM;AAgBP,OAAO,SAASQ,WAAT,CAAqBC,KAArB,EAA4B;AACjC,MAAMC,GAAG,GAAG3B,MAAM,CAAC,IAAD,CAAlB;AACAC,EAAAA,SAAS,CAAC,YAAM;AACd0B,IAAAA,GAAG,CAACjB,OAAJ,GAAcgB,KAAd;AACD,GAFQ,CAAT;AAGA,SAAOC,GAAG,CAACjB,OAAX;AACD,C,CAED;;AACA,OAAO,IAAMkB,mBAAmB,GAAG,SAAtBA,mBAAsB,GAAsB;AAAA,MAArBC,GAAqB,uEAAP,EAAO;;AAAA,mBACf3B,QAAQ,CAAC,EAAD,CADO;AAAA,MAChD4B,YADgD;AAAA,MAClCC,eADkC;;AAGvD9B,EAAAA,SAAS,CAAC,YAAM;AACd,QAAI,CAAC4B,GAAL,EAAU;AACV,QAAMG,GAAG,GAAG,IAAIC,KAAJ,EAAZ;AACAD,IAAAA,GAAG,CAACH,GAAJ,GAAUA,GAAV;;AACAG,IAAAA,GAAG,CAACE,MAAJ,GAAa;AAAA,aAAMH,eAAe,CAACF,GAAD,CAArB;AAAA,KAAb;;AACAG,IAAAA,GAAG,CAACG,OAAJ,GAAc,YAAM,CAAE,CAAtB;AACD,GANQ,EAMN,CAACN,GAAD,CANM,CAAT;AAQA,SAAOC,YAAP;AACD,CAZM","sourcesContent":["import { useRef, useEffect, useState } from 'react'\r\n\r\nexport function useEventListener<K extends keyof WindowEventMap>(\r\n  eventName: K,\r\n  handler: (ev: Event) => void,\r\n  element: Window | Element | null = IS_CLIENT ? window : null\r\n): void {\r\n  const savedHandler = useRef(handler)\r\n  useEffect(() => {\r\n    savedHandler.current = handler\r\n  }, [handler])\r\n\r\n  useEffect(() => {\r\n    if (!element || !element.addEventListener) return\r\n    const eventListener = (event) => savedHandler.current(event)\r\n    element.addEventListener(eventName, eventListener)\r\n    return () => {\r\n      element.removeEventListener(eventName, eventListener)\r\n    }\r\n  }, [eventName, element])\r\n}\r\n\r\nexport interface IIsVisibleEmitProps {\r\n  isShow: boolean\r\n  showContent: () => void\r\n  hideContent: () => void\r\n  toggleContent: () => void\r\n}\r\n\r\nexport const useIsVisible = (\r\n  initStatus: boolean = false\r\n): IIsVisibleEmitProps => {\r\n  const [visible, setVisible] = useState(initStatus)\r\n  const toggle = (status: boolean = true) => {\r\n    setVisible(status)\r\n  }\r\n  return {\r\n    isShow: visible,\r\n    showContent: () => toggle(),\r\n    hideContent: () => toggle(false),\r\n    toggleContent: () => toggle(!visible),\r\n  }\r\n}\r\n\r\nexport function usePrevious<T = undefined>(value: T): T\r\nexport function usePrevious(value) {\r\n  const ref = useRef(null)\r\n  useEffect(() => {\r\n    ref.current = value\r\n  })\r\n  return ref.current\r\n}\r\n\r\n//ref: https://stackoverflow.com/a/60458593\r\nexport const useProgressiveImage = (src: string = '') => {\r\n  const [sourceLoaded, setSourceLoaded] = useState('')\r\n\r\n  useEffect(() => {\r\n    if (!src) return\r\n    const img = new Image()\r\n    img.src = src\r\n    img.onload = () => setSourceLoaded(src)\r\n    img.onerror = () => {}\r\n  }, [src])\r\n\r\n  return sourceLoaded\r\n}\r\n"]},"metadata":{},"sourceType":"module"}